<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#E87722">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <title>Benetrip - Seu Roteiro de Viagem</title>
    <meta name="description" content="Seu roteiro personalizado criado pela Tripinha - Descubra experi√™ncias √∫nicas no seu destino!">
    
    <!-- Preload fonts para performance -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500&display=swap" as="style">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- CSS otimizado -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/itinerary.css">
    
    <!-- PWA e favicons -->
    <link rel="apple-touch-icon" href="assets/images/icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/images/icon-192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icon-32.png">
    
    <!-- Preconnect para melhor performance -->
    <link rel="preconnect" href="https://picsum.photos">
    <link rel="preconnect" href="https://source.unsplash.com">
    <link rel="preconnect" href="https://api.pexels.com">
</head>
<body class="mobile-optimized">
    <!-- Container principal otimizado para mobile -->
    <div id="roteiro-container" class="benetrip-container">
        
        <!-- Header responsivo -->
        <header class="app-header">
            <button class="btn-voltar" aria-label="Voltar √† p√°gina anterior" type="button">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"></path>
                </svg>
            </button>
            <h1>Seu Roteiro</h1>
        </header>
        
        <!-- Conte√∫do principal do roteiro -->
        <main class="roteiro-content" role="main">
            
            <!-- Loading inicial com anima√ß√µes otimizadas -->
            <div class="loading-container" id="loading-inicial">
                <div class="loading-content">
                    <img 
                        src="assets/images/tripinha/loading2.png" 
                        alt="Tripinha preparando seu roteiro" 
                        class="loading-avatar"
                        onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                    >
                    <div class="loading-emoji" style="display:none;">üêï</div>
                    
                    <div class="loading-text" id="loading-message">
                        Preparando seu roteiro personalizado...
                    </div>
                    
                    <div class="progress-bar-container">
                        <div 
                            class="progress-bar" 
                            id="progress-bar"
                            role="progressbar" 
                            style="width: 10%;" 
                            aria-valuenow="10" 
                            aria-valuemin="0" 
                            aria-valuemax="100"
                            aria-label="Progresso do carregamento"
                        ></div>
                    </div>
                    
                    <p class="loading-subtitle">
                        A Tripinha est√° organizando as melhores experi√™ncias para voc√™! üêæ
                    </p>
                </div>
            </div>
            
            <!-- Conte√∫do ser√° inserido dinamicamente aqui -->
            
        </main>
        
        <!-- Barra de a√ß√µes fixa otimizada -->
        <div class="botao-acoes-fixo" role="toolbar" aria-label="A√ß√µes do roteiro">
            <button 
                class="btn-secundario" 
                id="btn-editar-roteiro" 
                type="button"
                aria-label="Personalizar roteiro"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
                </svg>
                <span>Personalizar</span>
            </button>
            
            <button 
                class="btn-principal" 
                id="btn-compartilhar-roteiro" 
                type="button"
                aria-label="Compartilhar roteiro"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"></path>
                </svg>
                <span>Compartilhar</span>
            </button>
        </div>
    </div>

    <!-- Container para toast notifications -->
    <div id="toast-container" class="toast-container" role="region" aria-live="polite" aria-label="Notifica√ß√µes"></div>

    <!-- Container para modais (futuro) -->
    <div id="modal-container" class="modal-container" role="dialog" aria-hidden="true"></div>

    <!-- Scripts otimizados -->
    <script>
        // Configura√ß√µes globais para performance
        window.BENETRIP_CONFIG = {
            apiBaseUrl: '/api',
            imageQuality: 'medium', // low, medium, high
            maxImagesPerDay: 5,
            enableLazyLoading: true,
            enableImageOptimization: true,
            debugMode: false
        };
        
        // Detectar dispositivo mobile
        window.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // Service Worker para cache (futuro)
        if ('serviceWorker' in navigator && location.hostname !== 'localhost') {
            navigator.serviceWorker.register('/sw.js').catch(console.log);
        }
        
        // Preloader de recursos cr√≠ticos
        function preloadCriticalResources() {
            const criticalImages = [
                'assets/images/tripinha-avatar.png',
                'assets/images/tripinha/loading2.png'
            ];
            
            criticalImages.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        }
        
        // Executar preload quando DOM estiver pronto
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', preloadCriticalResources);
        } else {
            preloadCriticalResources();
        }
        
        // Otimiza√ß√£o de performance
        window.addEventListener('load', () => {
            // Remover loading screens desnecess√°rios
            setTimeout(() => {
                const unnecessaryLoaders = document.querySelectorAll('.initial-loader, .page-loader');
                unnecessaryLoaders.forEach(loader => loader.remove());
            }, 100);
        });
        
        // Preven√ß√£o de zoom acidental em inputs
        document.addEventListener('touchstart', function(event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        });
        
        // Smooth scroll para elementos √¢ncora
        document.addEventListener('click', function(e) {
            const anchor = e.target.closest('a[href^="#"]');
            if (anchor) {
                e.preventDefault();
                const target = document.querySelector(anchor.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        });
    </script>
    
    <!-- Scripts principais -->
    <script src="assets/js/api.js" defer></script>
    <script src="assets/js/modal-handler.js" defer></script>
    <script src="assets/js/itinerary.js" defer></script>
    
    <!-- Analytics e tracking (se necess√°rio) -->
    <script>
        // Google Analytics ou outra ferramenta de analytics
        // Implementar apenas se necess√°rio para o projeto
        
        // Tracking de eventos importantes
        function trackEvent(eventName, eventData = {}) {
            if (window.gtag) {
                gtag('event', eventName, eventData);
            }
            
            // Console para debug
            if (window.BENETRIP_CONFIG.debugMode) {
                console.log('üìä Event tracked:', eventName, eventData);
            }
        }
        
        // Eventos autom√°ticos
        window.addEventListener('load', () => {
            trackEvent('page_load', { page: 'itinerary' });
        });
        
        // Disponibilizar globalmente
        window.trackEvent = trackEvent;
    </script>
    
    <!-- Schema.org para SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TravelAction",
        "name": "Roteiro de Viagem Benetrip",
        "description": "Roteiro personalizado criado pela Tripinha para sua viagem dos sonhos",
        "provider": {
            "@type": "Organization",
            "name": "Benetrip",
            "url": "https://benetrip.com.br"
        },
        "instrument": {
            "@type": "SoftwareApplication",
            "name": "Benetrip Travel Planner",
            "applicationCategory": "TravelApplication"
        }
    }
    </script>
</body>
</html>
