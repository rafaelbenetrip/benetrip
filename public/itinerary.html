<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#E87722">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <title>Benetrip - Seu Roteiro de Viagem</title>
    <meta name="description" content="Seu roteiro personalizado criado pela Tripinha - Descubra experi√™ncias √∫nicas no seu destino!">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/itinerary.css">
    
    <!-- Favicons b√°sicos -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/icon-32.png">
    <link rel="apple-touch-icon" href="assets/images/icon-192.png">
</head>
<body class="mobile-optimized">
    <!-- Container principal -->
    <div id="roteiro-container" class="benetrip-container">
        
        <!-- Header simples -->
        <header class="app-header">
            <button class="btn-voltar" aria-label="Voltar">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 12H5M12 19l-7-7 7-7"></path>
                </svg>
            </button>
            <h1>Seu Roteiro</h1>
        </header>
        
        <!-- Conte√∫do principal -->
        <main class="roteiro-content">
            
            <!-- Loading inicial -->
            <div class="loading-container" id="loading-inicial">
                <div class="loading-content">
                    <img 
                        src="assets/images/tripinha/loading2.png" 
                        alt="Tripinha preparando seu roteiro" 
                        class="loading-avatar"
                        onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                    >
                    <div class="loading-emoji" style="display:none;">üêï</div>
                    
                    <div class="loading-text" id="loading-message">
                        Preparando seu roteiro personalizado...
                    </div>
                    
                    <div class="progress-bar-container">
                        <div 
                            class="progress-bar" 
                            id="progress-bar"
                            role="progressbar" 
                            style="width: 10%;" 
                            aria-valuenow="10" 
                            aria-valuemin="0" 
                            aria-valuemax="100"
                        ></div>
                    </div>
                    
                    <p class="loading-subtitle">
                        A Tripinha est√° organizando as melhores experi√™ncias para voc√™! üêæ
                    </p>
                </div>
            </div>
            
            <!-- Conte√∫do din√¢mico ser√° inserido aqui -->
            
        </main>
        
        <!-- Barra de a√ß√µes fixa -->
        <div class="botao-acoes-fixo">
            <button 
                class="btn-secundario" 
                id="btn-editar-roteiro"
                type="button"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"></path>
                </svg>
                <span>Personalizar</span>
            </button>
            
            <button 
                class="btn-principal" 
                id="btn-compartilhar-roteiro"
                type="button"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"></path>
                </svg>
                <span>Compartilhar</span>
            </button>
        </div>
    </div>

    <!-- Containers auxiliares -->
    <div id="toast-container" class="toast-container"></div>
    <div id="modal-container" class="modal-container"></div>

    <!-- Configura√ß√£o global simplificada -->
    <script>
        // ‚úÖ Configura√ß√£o m√≠nima e funcional
        window.BENETRIP_CONFIG = {
            apiBaseUrl: '/api',
            imageQuality: 'medium',
            enableLazyLoading: true,
            enableImageOptimization: true,
            debugMode: false
        };
        
        // Detectar mobile
        window.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // ‚úÖ REMOVIDO Service Worker que estava causando erro 404
        
        // Preloader b√°sico
        function preloadCriticalResources() {
            const criticalImages = [
                'assets/images/tripinha-avatar.png',
                'assets/images/tripinha/loading2.png'
            ];
            
            criticalImages.forEach(src => {
                const img = new Image();
                img.src = src;
            });
        }
        
        // Executar preload
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', preloadCriticalResources);
        } else {
            preloadCriticalResources();
        }
        
        // ‚úÖ Preven√ß√£o de zoom b√°sica (sem interferir nos cliques)
        document.addEventListener('touchstart', function(event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        });
        
        // ‚úÖ Tracking b√°sico
        function trackEvent(eventName, eventData = {}) {
            if (window.gtag) {
                gtag('event', eventName, eventData);
            }
            
            if (window.BENETRIP_CONFIG.debugMode) {
                console.log('üìä Event tracked:', eventName, eventData);
            }
        }
        
        window.addEventListener('load', () => {
            trackEvent('page_load', { page: 'itinerary' });
        });
        
        window.trackEvent = trackEvent;
    </script>
    
    <!-- Scripts principais SEM defer para garantir ordem -->
    <script src="assets/js/api.js"></script>
    <script src="assets/js/modal-handler.js"></script>
    <script src="assets/js/itinerary.js"></script>
    
    <!-- SEO b√°sico -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TravelAction",
        "name": "Roteiro de Viagem Benetrip",
        "description": "Roteiro personalizado criado pela Tripinha para sua viagem dos sonhos",
        "provider": {
            "@type": "Organization",
            "name": "Benetrip",
            "url": "https://benetrip.com.br"
        }
    }
    </script>
</body>
</html>
