<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#E87722">
    <title>Descubra seu Destino Perfeito - Benetrip</title>

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon/favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon/apple-touch-icon.png">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Flatpickr para calendÃ¡rio -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/descobrir-destinos.css">

    <!-- Estilos do botÃ£o voltar nos resultados -->
    <style>
        .btn-voltar-topo {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 10px 20px;
            background: #fff;
            color: #E87722;
            border: 2px solid #E87722;
            border-radius: 50px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 16px;
        }
        .btn-voltar-topo:hover {
            background: #E87722;
            color: #fff;
        }
        .btn-voltar-topo svg {
            width: 16px;
            height: 16px;
            transition: transform 0.2s ease;
        }
        .btn-voltar-topo:hover svg {
            transform: translateX(-3px);
        }
    </style>

    <!-- Vercel Analytics -->
    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <a href="https://www.benetrip.com.br"><img src="logo1.png" alt="Benetrip" class="logo"></a>
            <p class="tagline">Descubra seu destino perfeito! ğŸ•</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            
            <!-- FormulÃ¡rio -->
            <div id="form-container">
                <form id="descobrir-form" class="descobrir-form">
                    
                    <!-- 1. Origem -->
                    <div class="form-group">
                        <label for="origem">ğŸ“ De onde vocÃª vai sair?</label>
                        <p class="hint">Digite o nome da cidade e selecione o aeroporto</p>
                        <div class="autocomplete-wrapper">
                            <input 
                                type="text" 
                                id="origem" 
                                placeholder="Ex: SÃ£o Paulo, Rio de Janeiro..."
                                autocomplete="off"
                                required
                            >
                            <div id="origem-results" class="autocomplete-results"></div>
                        </div>
                        <input type="hidden" id="origem-data">
                    </div>

                    <!-- 2. Com quem vai viajar -->
                    <div class="form-group">
                        <label>ğŸ‘¥ Com quem vocÃª vai viajar?</label>
                        <p class="hint">Escolha quem estarÃ¡ com vocÃª nessa aventura</p>
                        <div class="button-group" data-field="companhia">
                            <button type="button" class="btn-option" data-value="0">
                                <span class="emoji">ğŸ§³</span>
                                <span class="text">Sozinho(a)</span>
                                <small>Aventura solo</small>
                            </button>
                            <button type="button" class="btn-option" data-value="1">
                                <span class="emoji">â¤ï¸</span>
                                <span class="text">Casal</span>
                                <small>Viagem romÃ¢ntica</small>                                
                            </button>
                            <button type="button" class="btn-option" data-value="2">
                                <span class="emoji">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
                                <span class="text">FamÃ­lia</span>
                                <small>DiversÃ£o para todos</small>
                            </button>
                            <button type="button" class="btn-option" data-value="3">
                                <span class="emoji">ğŸ‰</span>
                                <span class="text">Amigos</span>
                                <small>Turma da diversÃ£o</small>
                            </button>
                        </div>
                        <input type="hidden" id="companhia" required>
                    </div>

                    <!-- 2.1 NÃºmero de pessoas (condicional para amigos) -->
                    <div class="form-group conditional" id="num-pessoas-group" style="display: none;">
                        <label for="num-pessoas">Quantas pessoas?</label>
                        <p class="hint">Inclua todos, inclusive vocÃª!</p>
                        <div class="number-input">
                            <button type="button" class="btn-number" data-action="decrement">âˆ’</button>
                            <input type="number" id="num-pessoas" value="2" min="2" max="20" readonly>
                            <button type="button" class="btn-number" data-action="increment">+</button>
                        </div>
                    </div>

                    <!-- 2.2 Detalhes famÃ­lia (condicional para famÃ­lia) -->
                    <div class="form-group conditional" id="familia-group" style="display: none;">
                        <label>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Detalhes da famÃ­lia</label>
                        <p class="hint">Informe a composiÃ§Ã£o da famÃ­lia para encontrarmos os melhores destinos e preÃ§os</p>
                        
                        <div class="familia-grid">
                            <!-- Adultos -->
                            <div class="familia-item">
                                <div class="familia-label">
                                    <span class="familia-emoji">ğŸ§‘</span>
                                    <div>
                                        <strong>Adultos</strong>
                                        <small>12+ anos</small>
                                    </div>
                                </div>
                                <div class="number-input-compact">
                                    <button type="button" class="btn-number-sm" data-target="familia-adultos" data-action="decrement">âˆ’</button>
                                    <input type="number" id="familia-adultos" value="2" min="1" max="9" readonly>
                                    <button type="button" class="btn-number-sm" data-target="familia-adultos" data-action="increment">+</button>
                                </div>
                            </div>

                            <!-- CrianÃ§as -->
                            <div class="familia-item">
                                <div class="familia-label">
                                    <span class="familia-emoji">ğŸ‘§</span>
                                    <div>
                                        <strong>CrianÃ§as</strong>
                                        <small>2â€“11 anos</small>
                                    </div>
                                </div>
                                <div class="number-input-compact">
                                    <button type="button" class="btn-number-sm" data-target="familia-criancas" data-action="decrement">âˆ’</button>
                                    <input type="number" id="familia-criancas" value="0" min="0" max="6" readonly>
                                    <button type="button" class="btn-number-sm" data-target="familia-criancas" data-action="increment">+</button>
                                </div>
                            </div>

                            <!-- BebÃªs -->
                            <div class="familia-item">
                                <div class="familia-label">
                                    <span class="familia-emoji">ğŸ‘¶</span>
                                    <div>
                                        <strong>BebÃªs</strong>
                                        <small>0â€“1 ano (no colo)</small>
                                    </div>
                                </div>
                                <div class="number-input-compact">
                                    <button type="button" class="btn-number-sm" data-target="familia-bebes" data-action="decrement">âˆ’</button>
                                    <input type="number" id="familia-bebes" value="0" min="0" max="4" readonly>
                                    <button type="button" class="btn-number-sm" data-target="familia-bebes" data-action="increment">+</button>
                                </div>
                            </div>
                        </div>

                        <p class="hint familia-hint" id="familia-total-hint">Total: 2 passageiros</p>
                    </div>

                    <!-- 3. PreferÃªncias de viagem (MULTI-SELECT) -->
                    <div class="form-group">
                        <label>ğŸ¯ O que vocÃª mais busca nessa viagem?</label>
                        <p class="hint">Escolha uma ou mais opÃ§Ãµes</p>
                        <div class="button-group multi-select" data-field="preferencias" data-multi="true">
                            <button type="button" class="btn-option" data-value="relax">
                                <span class="emoji">ğŸŒŠ</span>
                                <span class="text">Relax total</span>
                                <small>Descansar, aproveitar sem pressa e recarregar as energias</small>
                            </button>
                            <button type="button" class="btn-option" data-value="aventura">
                                <span class="emoji">ğŸ”ï¸</span>
                                <span class="text">Aventura e emoÃ§Ã£o</span>
                                <small>Trilhar, explorar e sentir a adrenalina</small>
                            </button>
                            <button type="button" class="btn-option" data-value="cultura">
                                <span class="emoji">ğŸ›ï¸</span>
                                <span class="text">Cultura e histÃ³ria</span>
                                <small>Mergulhar em tradiÃ§Ãµes, arte e sabores locais</small>
                            </button>
                            <button type="button" class="btn-option" data-value="urbano">
                                <span class="emoji">ğŸ™ï¸</span>
                                <span class="text">Agito urbano</span>
                                <small>Ruas movimentadas, vida noturna e muita energia</small>
                            </button>
                        </div>
                        <input type="hidden" id="preferencias" required>
                    </div>

                    <!-- 3.1 Destinos internacionais ou tanto faz? -->
                    <div class="form-group">
                        <label>ğŸŒ Destinos internacionais ou nacionais?</label>
                        <p class="hint">Prefere sair do paÃ­s ou tanto faz?</p>
                        <div class="button-group button-group-full" data-field="escopo-destino">
                            <button type="button" class="btn-option btn-full" data-value="tanto_faz">
                                <span class="emoji">ğŸ—ºï¸</span>
                                <span class="text">Tanto faz â€” surpreenda-me!</span>
                            </button>
                            <button type="button" class="btn-option btn-full" data-value="internacional">
                                <span class="emoji">âœˆï¸</span>
                                <span class="text">Apenas destinos internacionais</span>
                            </button>
                        </div>
                        <input type="hidden" id="escopo-destino" value="tanto_faz">
                    </div>

                    <!-- 4. Datas -->
                    <div class="form-group">
                        <label for="datas">ğŸ“… Quando serÃ¡ a sua viagem?</label>
                        <p class="hint">Selecione a data de ida e volta</p>
                        <input 
                            type="text" 
                            id="datas" 
                            placeholder="Clique para selecionar datas"
                            readonly
                            required
                        >
                        <input type="hidden" id="data-ida">
                        <input type="hidden" id="data-volta">
                    </div>

                    <!-- 5. Moeda -->
                    <div class="form-group" id="moeda-group">
                        <label>ğŸ’° Qual moeda vocÃª prefere usar?</label>
                        <p class="hint">Escolha a moeda para definir seu orÃ§amento</p>
                        <div class="button-group" data-field="moeda">
                            <button type="button" class="btn-option" data-value="BRL">
                                <span class="emoji">ğŸ’°</span>
                                <span class="text">Real (BRL)</span>
                            </button>
                            <button type="button" class="btn-option" data-value="USD">
                                <span class="emoji">ğŸ’µ</span>
                                <span class="text">DÃ³lar (USD)</span>
                            </button>
                            <button type="button" class="btn-option" data-value="EUR">
                                <span class="emoji">ğŸ’¶</span>
                                <span class="text">Euro (EUR)</span>
                            </button>
                        </div>
                        <input type="hidden" id="moeda" required>
                    </div>

                    <!-- 6. OrÃ§amento â€” v3.1.2: placeholder atualizado -->
                    <div class="form-group" id="orcamento-group">
                        <label for="orcamento">ğŸ’¸ Qual Ã© o seu orÃ§amento para passagens por pessoa?</label>
                        <p class="hint">Valor para ida e volta (por pessoa acima de 2 anos)</p>
                        <div class="currency-input-wrapper">
                            <span class="currency-symbol">R$</span>
                            <input 
                                type="text" 
                                id="orcamento" 
                                placeholder="2.000"
                                inputmode="numeric"
                                required
                            >
                        </div>
                    </div>

                    <!-- BotÃ£o Submit -->
                    <button type="submit" class="btn-submit" id="btn-submit">
                        ğŸ” Descobrir Destinos Perfeitos
                    </button>
                </form>
            </div>

            <!-- Loading State -->
            <div id="loading-container" style="display: none;">
                <div class="loading-card">
                    <img src="assets/images/tripinha/avatar-pensando.png" alt="Tripinha pensando" class="tripinha-loading">
                    <h2>ğŸ• Tripinha estÃ¡ procurando...</h2>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <p id="loading-message">Buscando os melhores destinos para vocÃª...</p>
                </div>
            </div>

            <!-- Resultados -->
            <div id="resultados-container" style="display: none;">
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>ğŸ• Feito com amor pela Tripinha | Benetrip Â© 2026</p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/pt.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script src="assets/js/descobrir-destinos.js"></script>
</body>
</html>
